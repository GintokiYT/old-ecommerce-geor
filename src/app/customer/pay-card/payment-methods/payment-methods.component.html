<ion-content>
  <app-header
    title="MÃ©todos de pago"
    backDirection="confirm-order"
    iconLeft="icon-arrow-left"
  >
  </app-header>

  <div class="container-main">

    <!-- Options -->
    <div class="options">
      <div class="way-pay selected" id="way-pay">
        <ion-label
          class="fz-normal" 
          (click)="onSelect('way-pay')"
        >
          Tarjeta
        </ion-label>
      </div>
      <div class="other-forms" id="other-forms">
        <ion-label 
          class="fz-normal"
          (click)="onSelect('other-forms')"
        >
          Otras formas
        </ion-label>
      </div>
    </div>


    <span [ngSwitch]="optionType">
      <div *ngSwitchCase="'way-pay'">
        <!-- No hay metodos de pago -->
          <div class="empty-methods" *ngIf="paymentData.length===0">
            <div id="no-cards-icon">
              <svg width="165" height="128" viewBox="0 0 165 128" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_4347_65419)">
                <path d="M47.4198 101.007L38.0442 104.789C37.0486 105.192 35.9842 105.392 34.9118 105.379C33.8395 105.366 32.7802 105.14 31.7945 104.713C30.8089 104.286 29.9161 103.667 29.1674 102.891C28.4186 102.115 27.8285 101.197 27.4307 100.191L12.8281 63.2593C12.4295 62.2532 12.231 61.1776 12.2439 60.0939C12.2569 59.0102 12.4811 57.9397 12.9036 56.9436C13.3262 55.9475 13.9389 55.0453 14.7066 54.2887C15.4744 53.532 16.3822 52.9356 17.3781 52.5336L90.4541 23.0147C91.4513 22.6083 92.5182 22.405 93.5935 22.4165C94.6687 22.428 95.7311 22.6541 96.7196 23.0819C97.7081 23.5096 98.6032 24.1305 99.3535 24.9089C100.104 25.6873 100.695 26.6079 101.092 27.6177L109.534 48.9616L110.366 50.7012L113.402 58.7394L115.699 64.5445C116.101 65.5523 116.301 66.6304 116.29 67.7168C116.278 68.8033 116.054 69.8767 115.631 70.8754C115.208 71.8742 114.594 72.7787 113.824 73.5371C113.054 74.2954 112.143 74.8927 111.144 75.2946L53.8992 98.3879" fill="white"/>
                <path d="M47.0959 99.8242L41.105 102.267C38.6148 103.245 36.0569 104.672 33.3008 103.963C28.949 102.844 27.9191 98.1823 26.4733 94.5273L14.8347 65.0768C14.4721 64.163 14.0418 63.2444 13.7661 62.2964C13.2721 60.608 13.4107 58.7948 14.1554 57.2031C14.9001 55.6114 16.1989 54.3526 17.8036 53.667C19.7377 52.7972 21.7154 52.0887 23.6592 51.302L52.4486 39.6771L82.5967 27.5002C85.1111 26.4838 87.6158 25.4479 90.135 24.451C94.685 22.6577 98.5871 24.6025 100.362 29.0931C103.48 36.9749 107.063 45.4236 109.892 52.9145C111.396 56.892 113.064 60.8256 114.495 64.8276C115.835 68.5657 114.374 72.4602 110.729 74.1118C110.013 74.4392 109.278 74.7031 108.538 75.0011L55.0693 96.604L53.5801 97.2099C52.1295 97.7817 52.7726 100.142 54.2183 99.5652L107.208 78.1626C109.936 77.0583 113.127 76.1641 115.129 73.8724C119.442 68.9273 116.487 63.4398 114.5 58.2895C111.086 49.4451 107.731 41.2212 104.167 32.1716C102.262 27.3536 100.599 22.0029 94.6028 21.2846C91.7403 20.9426 89.284 22.1788 86.7213 23.2392L58.28 34.7272L25.8351 47.8326C23.108 48.9369 20.3712 50.0217 17.6489 51.1407C12.6298 53.1783 9.74317 58.1918 11.6386 63.5913C14.8638 72.6801 18.7513 81.5734 22.2763 90.5351C23.5866 93.853 24.8487 97.1904 26.2122 100.484C26.8354 102.094 27.8766 103.504 29.2262 104.566C30.5758 105.628 32.1839 106.303 33.881 106.519C36.5888 106.846 38.8807 105.751 41.3129 104.769L47.7197 102.184C49.1703 101.608 48.5272 99.2525 47.0814 99.8242H47.0959Z" fill="#E0E0E0"/>
                <path d="M103.812 34.6902L15.5641 70.3418L18.8721 78.704L107.12 43.0524L103.812 34.6902Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="1.52" stroke-miterlimit="10"/>
                <path d="M73.6566 63.0683L32.6421 79.638C31.4022 80.1389 30.799 81.5606 31.2946 82.8136L32.2567 85.2456C32.7523 86.4985 34.1592 87.1082 35.399 86.6073L76.4136 70.0376C77.6534 69.5367 78.2567 68.1149 77.7611 66.862L76.799 64.43C76.3034 63.1771 74.8965 62.5674 73.6566 63.0683Z" fill="#E0E0E0"/>
                <path d="M142.84 55.9551H58.4395C55.502 55.9551 53.1207 58.3616 53.1207 61.3301V106.857C53.1207 109.826 55.502 112.232 58.4395 112.232H142.84C145.777 112.232 148.159 109.826 148.159 106.857V61.3301C148.159 58.3616 145.777 55.9551 142.84 55.9551Z" fill="white"/>
                <path d="M142.84 111.005H59.5806C58.5265 111.005 57.5353 111.044 56.5489 110.545C54.4407 109.47 54.3295 107.34 54.3295 105.302V71.7763C54.3295 68.3558 54.1361 64.823 54.3295 61.3829C54.5809 56.8581 58.5265 57.1708 61.7033 57.1708H140.156C143.265 57.1708 146.737 57.1708 146.926 61.4904C147.114 65.253 146.926 69.0741 146.926 72.8367V105.742C146.926 108.405 145.905 110.809 142.816 111C141.273 111.097 141.259 113.541 142.816 113.443C146.515 113.213 149.193 110.56 149.343 106.788C149.392 105.625 149.343 104.452 149.343 103.294V66.7042C149.343 62.6925 150.073 57.8354 145.925 55.529C143.739 54.3122 140.654 54.7325 138.241 54.7325H84.086C75.6484 54.7325 67.1914 54.5566 58.7538 54.7325C54.1893 54.8253 51.8683 58.2214 51.8683 62.5166V97.4252C51.8683 100.802 51.4331 104.496 51.9505 107.853C52.6855 112.593 56.8245 113.448 60.7218 113.448H142.84C144.397 113.448 144.397 111.005 142.84 111.005Z" fill="#E0E0E0"/>
                <path opacity="0.4" d="M25.3273 26.733C26.967 26.733 28.2962 25.3897 28.2962 23.7327C28.2962 22.0757 26.967 20.7324 25.3273 20.7324C23.6877 20.7324 22.3585 22.0757 22.3585 23.7327C22.3585 25.3897 23.6877 26.733 25.3273 26.733Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="0.68" stroke-miterlimit="10"/>
                <path opacity="0.4" d="M86.2135 3.84065C87.2337 3.84065 88.0606 3.00494 88.0606 1.97404C88.0606 0.943134 87.2337 0.107422 86.2135 0.107422C85.1934 0.107422 84.3665 0.943134 84.3665 1.97404C84.3665 3.00494 85.1934 3.84065 86.2135 3.84065Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="0.42" stroke-miterlimit="10"/>
                <path opacity="0.4" d="M129.277 18.3441C130.842 18.3441 132.11 17.0621 132.11 15.4806C132.11 13.8992 130.842 12.6172 129.277 12.6172C127.712 12.6172 126.443 13.8992 126.443 15.4806C126.443 17.0621 127.712 18.3441 129.277 18.3441Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="0.65" stroke-miterlimit="10"/>
                <path opacity="0.4" d="M163.433 62.7522C164.253 62.7522 164.918 62.0806 164.918 61.2521C164.918 60.4236 164.253 59.752 163.433 59.752C162.614 59.752 161.949 60.4236 161.949 61.2521C161.949 62.0806 162.614 62.7522 163.433 62.7522Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="0.34" stroke-miterlimit="10"/>
                <path opacity="0.4" d="M1.56665 95.7639C2.38649 95.7639 3.05109 95.0923 3.05109 94.2638C3.05109 93.4353 2.38649 92.7637 1.56665 92.7637C0.74682 92.7637 0.0822144 93.4353 0.0822144 94.2638C0.0822144 95.0923 0.74682 95.7639 1.56665 95.7639Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="0.34" stroke-miterlimit="10"/>
                <path d="M76.5284 69.084H64.7109C63.9766 69.084 63.3812 69.6856 63.3812 70.4278V76.7459C63.3812 77.488 63.9766 78.0897 64.7109 78.0897H76.5284C77.2628 78.0897 77.8581 77.488 77.8581 76.7459V70.4278C77.8581 69.6856 77.2628 69.084 76.5284 69.084Z" fill="#E0E0E0"/>
                <path d="M128.286 105.601C131.02 105.601 133.237 103.361 133.237 100.597C133.237 97.834 131.02 95.5938 128.286 95.5938C125.551 95.5938 123.334 97.834 123.334 100.597C123.334 103.361 125.551 105.601 128.286 105.601Z" fill="#E0E0E0"/>
                <path d="M128.293 95.4766C130.74 95.4777 132.624 97.2049 133.19 99.4996C133.116 99.5049 133.041 99.5173 132.967 99.5368C132.376 97.1131 130.241 95.8898 128.177 95.8839C127.007 95.8805 125.829 96.2636 124.936 97.0592C124.035 97.8629 123.458 99.0589 123.458 100.606C123.458 102.153 124.035 103.349 124.937 104.152C125.83 104.948 127.009 105.331 128.179 105.328C130.245 105.322 132.381 104.097 132.969 101.669C133.042 101.688 133.116 101.7 133.189 101.706C132.6 104.092 130.592 105.837 128.046 105.716C126.737 105.638 125.508 105.05 124.619 104.073C123.728 103.096 123.247 101.806 123.279 100.476C123.311 99.1455 123.854 97.8809 124.79 96.9485C125.726 96.0169 126.982 95.4898 128.293 95.4766ZM133.355 100.603C133.353 100.632 133.351 100.661 133.349 100.69L133.349 100.516C133.351 100.545 133.353 100.574 133.355 100.603Z" fill="white" stroke="white"/>
                <path d="M133.237 105.224C135.766 105.224 137.816 103.152 137.816 100.596C137.816 98.0405 135.766 95.9688 133.237 95.9688C130.708 95.9688 128.658 98.0405 128.658 100.596C128.658 103.152 130.708 105.224 133.237 105.224Z" fill="#E0E0E0" stroke="white" stroke-width="1.42" stroke-miterlimit="10"/>
                <path opacity="0.2" d="M88.7472 127.732C113.502 127.732 133.571 126.732 133.571 125.499C133.571 124.265 113.502 123.266 88.7472 123.266C63.992 123.266 43.924 124.265 43.924 125.499C43.924 126.732 63.992 127.732 88.7472 127.732Z" fill="#E0E0E0" stroke="#E0E0E0" stroke-width="1.12" stroke-miterlimit="10"/>
                <path d="M100.323 86.9727H107.813C107.993 86.9728 108.172 87.0128 108.335 87.0899C108.499 87.167 108.644 87.2793 108.76 87.419C108.876 87.5587 108.96 87.7223 109.007 87.8984C109.054 88.0745 109.062 88.2589 109.031 88.4386C108.681 90.5149 107.615 92.3989 106.022 93.7573C104.429 95.1157 102.412 95.8609 100.328 95.8609C98.2436 95.8609 96.2265 95.1157 94.6336 93.7573C93.0407 92.3989 91.9747 90.5149 91.6243 88.4386C91.5932 88.2585 91.6015 88.0737 91.6487 87.8972C91.6959 87.7208 91.7808 87.5569 91.8974 87.4171C92.014 87.2774 92.1595 87.1652 92.3237 87.0884C92.4879 87.0116 92.6667 86.9721 92.8476 86.9727H100.323Z" fill="#E0E0E0"/>
                <path d="M111.613 84.4372C112.991 84.4372 114.108 83.3521 114.108 82.0135C114.108 80.675 112.991 79.5898 111.613 79.5898C110.235 79.5898 109.118 80.675 109.118 82.0135C109.118 83.3521 110.235 84.4372 111.613 84.4372Z" fill="#E0E0E0"/>
                <path d="M89.0277 84.4372C90.4056 84.4372 91.5227 83.3521 91.5227 82.0135C91.5227 80.675 90.4056 79.5898 89.0277 79.5898C87.6497 79.5898 86.5327 80.675 86.5327 82.0135C86.5327 83.3521 87.6497 84.4372 89.0277 84.4372Z" fill="#E0E0E0"/>
                </g>
                <defs>
                <clipPath id="clip0_4347_65419">
                <rect width="165" height="128" fill="white"/>
                </clipPath>
                </defs>
                </svg>
            </div>
            <div id="no-cards-txt">
              <ion-label color="medium" class="fz-normal">No tienes ninguna tarjeta agregada</ion-label>
            </div>  
          </div>

        <!-- Hay al menos un metodo de pago -->
        <div class="payment-methods" *ngIf="paymentData.length>0">
          <app-way-pay [oneTrue]="oneTrueWayPay" (onOneTrue)="changeOneTrueWayPay($event)"></app-way-pay>
        </div>
      </div>
      <div *ngSwitchCase="'other-forms'">
        <app-other-forms-pay 
          [oneTrue] = "oneTrueOtherForms" 
          (onOneTrue)="changeOneOtherFormsPay($event)"
          (onSelectMethod)="setMethod($event)"
        >
        </app-other-forms-pay>
      </div>
      <div *ngSwitchDefault>
      
      </div>
    </span>

    

  </div>

  <ion-footer class="footer-ionic">
    <ion-toolbar>
      <div class="d-flex flex-column" style="gap: 24px;">
        <ion-button
          *ngIf="optionType==='way-pay'" 
          (click)="goTo('/customer/add-card')"
          color="primary" 
          fill="outline" 
          shape="round" 
          expand="block"
        >
          <ion-label  class="fz-normal"> Agregar tarjeta</ion-label>
        </ion-button>
        <ion-button
          *ngIf="paymentData.length!==0 && optionType==='way-pay'" 
          color="primary" 
          shape="round" 
          expand="block"
          [disabled]="!oneTrueWayPay"
          (click)="addPayofWayPay()"
        >
          <ion-label class="fz-normal">Confirmar</ion-label>
        </ion-button>
        <ion-button
          *ngIf="optionType==='other-forms'" 
          color="primary" 
          shape="round" 
          expand="block"
          [disabled]="!oneTrueOtherForms"
          (click)="addPayOfOtherForms()"
        >
          <ion-label class="fz-normal">Confirmar</ion-label>
        </ion-button>
      </div>  
    </ion-toolbar>
  </ion-footer>

</ion-content>



