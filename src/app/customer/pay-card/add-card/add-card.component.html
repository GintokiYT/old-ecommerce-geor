<ion-content class="content-add">
<!-- backDirectin="way-pay" -->
 <!--  <app-header
  title="Agregar tarjeta"
  (click)="goback()"
  <app-header
  title="Agregar tarjeta"
  backDirectin="way-pay"
  iconLeft="icon-close"
  >
  </app-header> -->
  <ion-header class="ion-no-border">
    <ion-toolbar>
        <button
            (click)="goBack()"
            slot="start">
            <svg class="back" width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 1L13 13" stroke="black" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>
              <path d="M1 13L13 1" stroke="black" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>
              </svg>
        </button>
        <ion-title>Agregar tarjeta</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="content-add container-main">
    <form #formulario="ngForm" (ngSubmit)="onSubmit(formulario)">
      <ion-item class="form-group">
        <ion-label position="floating" class="fz-normal disabled" color="medium"
        >Número de tarjeta</ion-label>
        <ion-input
          type="tel"
          name="cardnumber"
          inputmode="numeric"
          mask="**** **** **** **** ****"
          maxlength="24"
          class="ion-text-left"
          name="cardnumber"
          [(ngModel)]="data.cardnumber"
          required
        ></ion-input>
      </ion-item>
      <ion-item class="form-group">
        <ion-label position="floating" class="fz-normal" color="medium"
        >Nombre del titular de la tarjeta</ion-label>
        <ion-input
          name="cardholder"
          [(ngModel)]="data.cardholder"
          required
        ></ion-input>
      </ion-item>
      <ion-item class="form-group">
        <ion-label position="floating" class="fz-normal" color="medium"
        >Vencimiento</ion-label>
        <ion-input
          type="tel"
          mask="**/**"
          class="ion-text-left"
          maxlength="5"
          name="expiration"
          [(ngModel)]="data.expiration"
          required
        ></ion-input>
      </ion-item>
      <ion-item class="form-group">
        <img id="info" slot="end" (click)="setOpen(true)" src="/assets/icons/icon-help.svg" alt="help">
        <ion-label position="floating" class="fz-normal" color="medium"
        >Código de seguridad</ion-label>
        <ion-input
          inputmode="numeric"
          type="tel"
          name="code"
          maxlength="3"
          [(ngModel)]="data.code"
          required
        ></ion-input>
      </ion-item>
    </form>
  </div>

  <ion-modal [isOpen]="isModalOpen" >
    <ng-template>
      <img id="icon-close" width="15px" (click)="setOpen(false)" src="/assets/icons/icon-close.svg">
        <div id="card">
          <svg width="199" height="126" viewBox="0 0 200 126" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="199" height="126" rx="8" fill="#EEEEEE"/>
            <rect x="0" y="13" width="200" height="26" fill="#E2E2E2"/>
            <rect x="20.5" y="48" width="159" height="26" rx="4" fill="white"/>
            <path d="M92.5752 60.2305V61.748C92.5752 62.5638 92.5023 63.252 92.3564 63.8125C92.2106 64.373 92.001 64.8242 91.7275 65.166C91.4541 65.5078 91.1237 65.7562 90.7363 65.9111C90.3535 66.0615 89.9206 66.1367 89.4375 66.1367C89.0547 66.1367 88.7015 66.0889 88.3779 65.9932C88.0544 65.8975 87.7627 65.7448 87.5029 65.5352C87.2477 65.321 87.029 65.043 86.8467 64.7012C86.6644 64.3594 86.5254 63.9447 86.4297 63.457C86.334 62.9694 86.2861 62.3997 86.2861 61.748V60.2305C86.2861 59.4147 86.359 58.7311 86.5049 58.1797C86.6553 57.6283 86.8672 57.1862 87.1406 56.8535C87.4141 56.5163 87.7422 56.2747 88.125 56.1289C88.5124 55.9831 88.9453 55.9102 89.4238 55.9102C89.8112 55.9102 90.1667 55.958 90.4902 56.0537C90.8184 56.1449 91.11 56.293 91.3652 56.498C91.6204 56.6986 91.8369 56.9674 92.0146 57.3047C92.1969 57.6374 92.3359 58.0452 92.4316 58.5283C92.5273 59.0114 92.5752 59.5788 92.5752 60.2305ZM91.3037 61.9531V60.0186C91.3037 59.5719 91.2764 59.18 91.2217 58.8428C91.1715 58.501 91.0964 58.2093 90.9961 57.9678C90.8958 57.7262 90.7682 57.5303 90.6133 57.3799C90.4629 57.2295 90.2874 57.1201 90.0869 57.0518C89.891 56.9788 89.6699 56.9424 89.4238 56.9424C89.123 56.9424 88.8564 56.9993 88.624 57.1133C88.3916 57.2227 88.1956 57.3981 88.0361 57.6396C87.8812 57.8812 87.7627 58.1979 87.6807 58.5898C87.5986 58.9818 87.5576 59.458 87.5576 60.0186V61.9531C87.5576 62.3997 87.5827 62.7939 87.6328 63.1357C87.6875 63.4775 87.7673 63.7738 87.8721 64.0244C87.9769 64.2705 88.1045 64.4733 88.2549 64.6328C88.4053 64.7923 88.5785 64.9108 88.7744 64.9883C88.9749 65.0612 89.196 65.0977 89.4375 65.0977C89.7474 65.0977 90.0186 65.0384 90.251 64.9199C90.4834 64.8014 90.6771 64.6169 90.832 64.3662C90.9915 64.111 91.11 63.7852 91.1875 63.3887C91.265 62.9876 91.3037 62.5091 91.3037 61.9531ZM100.45 60.2305V61.748C100.45 62.5638 100.377 63.252 100.231 63.8125C100.086 64.373 99.876 64.8242 99.6025 65.166C99.3291 65.5078 98.9987 65.7562 98.6113 65.9111C98.2285 66.0615 97.7956 66.1367 97.3125 66.1367C96.9297 66.1367 96.5765 66.0889 96.2529 65.9932C95.9294 65.8975 95.6377 65.7448 95.3779 65.5352C95.1227 65.321 94.904 65.043 94.7217 64.7012C94.5394 64.3594 94.4004 63.9447 94.3047 63.457C94.209 62.9694 94.1611 62.3997 94.1611 61.748V60.2305C94.1611 59.4147 94.234 58.7311 94.3799 58.1797C94.5303 57.6283 94.7422 57.1862 95.0156 56.8535C95.2891 56.5163 95.6172 56.2747 96 56.1289C96.3874 55.9831 96.8203 55.9102 97.2988 55.9102C97.6862 55.9102 98.0417 55.958 98.3652 56.0537C98.6934 56.1449 98.985 56.293 99.2402 56.498C99.4954 56.6986 99.7119 56.9674 99.8896 57.3047C100.072 57.6374 100.211 58.0452 100.307 58.5283C100.402 59.0114 100.45 59.5788 100.45 60.2305ZM99.1787 61.9531V60.0186C99.1787 59.5719 99.1514 59.18 99.0967 58.8428C99.0465 58.501 98.9714 58.2093 98.8711 57.9678C98.7708 57.7262 98.6432 57.5303 98.4883 57.3799C98.3379 57.2295 98.1624 57.1201 97.9619 57.0518C97.766 56.9788 97.5449 56.9424 97.2988 56.9424C96.998 56.9424 96.7314 56.9993 96.499 57.1133C96.2666 57.2227 96.0706 57.3981 95.9111 57.6396C95.7562 57.8812 95.6377 58.1979 95.5557 58.5898C95.4736 58.9818 95.4326 59.458 95.4326 60.0186V61.9531C95.4326 62.3997 95.4577 62.7939 95.5078 63.1357C95.5625 63.4775 95.6423 63.7738 95.7471 64.0244C95.8519 64.2705 95.9795 64.4733 96.1299 64.6328C96.2803 64.7923 96.4535 64.9108 96.6494 64.9883C96.8499 65.0612 97.071 65.0977 97.3125 65.0977C97.6224 65.0977 97.8936 65.0384 98.126 64.9199C98.3584 64.8014 98.5521 64.6169 98.707 64.3662C98.8665 64.111 98.985 63.7852 99.0625 63.3887C99.14 62.9876 99.1787 62.5091 99.1787 61.9531ZM108.325 60.2305V61.748C108.325 62.5638 108.252 63.252 108.106 63.8125C107.961 64.373 107.751 64.8242 107.478 65.166C107.204 65.5078 106.874 65.7562 106.486 65.9111C106.104 66.0615 105.671 66.1367 105.188 66.1367C104.805 66.1367 104.451 66.0889 104.128 65.9932C103.804 65.8975 103.513 65.7448 103.253 65.5352C102.998 65.321 102.779 65.043 102.597 64.7012C102.414 64.3594 102.275 63.9447 102.18 63.457C102.084 62.9694 102.036 62.3997 102.036 61.748V60.2305C102.036 59.4147 102.109 58.7311 102.255 58.1797C102.405 57.6283 102.617 57.1862 102.891 56.8535C103.164 56.5163 103.492 56.2747 103.875 56.1289C104.262 55.9831 104.695 55.9102 105.174 55.9102C105.561 55.9102 105.917 55.958 106.24 56.0537C106.568 56.1449 106.86 56.293 107.115 56.498C107.37 56.6986 107.587 56.9674 107.765 57.3047C107.947 57.6374 108.086 58.0452 108.182 58.5283C108.277 59.0114 108.325 59.5788 108.325 60.2305ZM107.054 61.9531V60.0186C107.054 59.5719 107.026 59.18 106.972 58.8428C106.922 58.501 106.846 58.2093 106.746 57.9678C106.646 57.7262 106.518 57.5303 106.363 57.3799C106.213 57.2295 106.037 57.1201 105.837 57.0518C105.641 56.9788 105.42 56.9424 105.174 56.9424C104.873 56.9424 104.606 56.9993 104.374 57.1133C104.142 57.2227 103.946 57.3981 103.786 57.6396C103.631 57.8812 103.513 58.1979 103.431 58.5898C103.349 58.9818 103.308 59.458 103.308 60.0186V61.9531C103.308 62.3997 103.333 62.7939 103.383 63.1357C103.438 63.4775 103.517 63.7738 103.622 64.0244C103.727 64.2705 103.854 64.4733 104.005 64.6328C104.155 64.7923 104.328 64.9108 104.524 64.9883C104.725 65.0612 104.946 65.0977 105.188 65.0977C105.497 65.0977 105.769 65.0384 106.001 64.9199C106.233 64.8014 106.427 64.6169 106.582 64.3662C106.742 64.111 106.86 63.7852 106.938 63.3887C107.015 62.9876 107.054 62.5091 107.054 61.9531ZM116.2 60.2305V61.748C116.2 62.5638 116.127 63.252 115.981 63.8125C115.836 64.373 115.626 64.8242 115.353 65.166C115.079 65.5078 114.749 65.7562 114.361 65.9111C113.979 66.0615 113.546 66.1367 113.062 66.1367C112.68 66.1367 112.326 66.0889 112.003 65.9932C111.679 65.8975 111.388 65.7448 111.128 65.5352C110.873 65.321 110.654 65.043 110.472 64.7012C110.289 64.3594 110.15 63.9447 110.055 63.457C109.959 62.9694 109.911 62.3997 109.911 61.748V60.2305C109.911 59.4147 109.984 58.7311 110.13 58.1797C110.28 57.6283 110.492 57.1862 110.766 56.8535C111.039 56.5163 111.367 56.2747 111.75 56.1289C112.137 55.9831 112.57 55.9102 113.049 55.9102C113.436 55.9102 113.792 55.958 114.115 56.0537C114.443 56.1449 114.735 56.293 114.99 56.498C115.245 56.6986 115.462 56.9674 115.64 57.3047C115.822 57.6374 115.961 58.0452 116.057 58.5283C116.152 59.0114 116.2 59.5788 116.2 60.2305ZM114.929 61.9531V60.0186C114.929 59.5719 114.901 59.18 114.847 58.8428C114.797 58.501 114.721 58.2093 114.621 57.9678C114.521 57.7262 114.393 57.5303 114.238 57.3799C114.088 57.2295 113.912 57.1201 113.712 57.0518C113.516 56.9788 113.295 56.9424 113.049 56.9424C112.748 56.9424 112.481 56.9993 112.249 57.1133C112.017 57.2227 111.821 57.3981 111.661 57.6396C111.506 57.8812 111.388 58.1979 111.306 58.5898C111.224 58.9818 111.183 59.458 111.183 60.0186V61.9531C111.183 62.3997 111.208 62.7939 111.258 63.1357C111.312 63.4775 111.392 63.7738 111.497 64.0244C111.602 64.2705 111.729 64.4733 111.88 64.6328C112.03 64.7923 112.203 64.9108 112.399 64.9883C112.6 65.0612 112.821 65.0977 113.062 65.0977C113.372 65.0977 113.644 65.0384 113.876 64.9199C114.108 64.8014 114.302 64.6169 114.457 64.3662C114.617 64.111 114.735 63.7852 114.812 63.3887C114.89 62.9876 114.929 62.5091 114.929 61.9531Z" fill="black"/>
            <path d="M145.483 55.9922V66H144.219V57.5713L141.669 58.501V57.3594L145.285 55.9922H145.483ZM155.724 64.9609V66H149.209V65.0908L152.47 61.4609C152.871 61.0143 153.181 60.6361 153.399 60.3262C153.623 60.0117 153.778 59.7314 153.864 59.4854C153.955 59.2347 154.001 58.9795 154.001 58.7197C154.001 58.3916 153.933 58.0954 153.796 57.8311C153.664 57.5622 153.468 57.348 153.208 57.1885C152.948 57.029 152.634 56.9492 152.265 56.9492C151.823 56.9492 151.453 57.0358 151.157 57.209C150.866 57.3776 150.647 57.6146 150.501 57.9199C150.355 58.2253 150.282 58.5762 150.282 58.9727H149.018C149.018 58.4121 149.141 57.8994 149.387 57.4346C149.633 56.9697 149.997 56.6006 150.48 56.3271C150.964 56.0492 151.558 55.9102 152.265 55.9102C152.894 55.9102 153.431 56.0218 153.878 56.2451C154.325 56.4639 154.666 56.7738 154.903 57.1748C155.145 57.5713 155.266 58.0361 155.266 58.5693C155.266 58.861 155.215 59.1572 155.115 59.458C155.02 59.7542 154.885 60.0505 154.712 60.3467C154.543 60.6429 154.345 60.9346 154.117 61.2217C153.894 61.5088 153.655 61.7913 153.399 62.0693L150.733 64.9609H155.724ZM158.923 60.4014H159.825C160.267 60.4014 160.632 60.3285 160.919 60.1826C161.211 60.0322 161.427 59.8294 161.568 59.5742C161.714 59.3145 161.787 59.0228 161.787 58.6992C161.787 58.3164 161.723 57.9951 161.596 57.7354C161.468 57.4756 161.277 57.2796 161.021 57.1475C160.766 57.0153 160.443 56.9492 160.051 56.9492C159.695 56.9492 159.381 57.0199 159.107 57.1611C158.839 57.2979 158.627 57.4938 158.472 57.749C158.321 58.0042 158.246 58.305 158.246 58.6514H156.981C156.981 58.1455 157.109 57.6852 157.364 57.2705C157.619 56.8558 157.977 56.5254 158.438 56.2793C158.902 56.0332 159.44 55.9102 160.051 55.9102C160.652 55.9102 161.179 56.0173 161.63 56.2314C162.081 56.4411 162.432 56.7555 162.683 57.1748C162.933 57.5895 163.059 58.1068 163.059 58.7266C163.059 58.9772 162.999 59.2461 162.881 59.5332C162.767 59.8158 162.587 60.0801 162.341 60.3262C162.099 60.5723 161.785 60.7751 161.397 60.9346C161.01 61.0895 160.545 61.167 160.003 61.167H158.923V60.4014ZM158.923 61.4404V60.6816H160.003C160.636 60.6816 161.16 60.7568 161.575 60.9072C161.99 61.0576 162.316 61.2581 162.553 61.5088C162.794 61.7594 162.963 62.0352 163.059 62.3359C163.159 62.6322 163.209 62.9284 163.209 63.2246C163.209 63.6895 163.129 64.1019 162.97 64.4619C162.815 64.8219 162.594 65.1273 162.307 65.3779C162.024 65.6286 161.691 65.8177 161.309 65.9453C160.926 66.0729 160.509 66.1367 160.058 66.1367C159.625 66.1367 159.217 66.0752 158.834 65.9521C158.456 65.8291 158.121 65.6514 157.829 65.4189C157.537 65.182 157.31 64.8926 157.146 64.5508C156.981 64.2044 156.899 63.8102 156.899 63.3682H158.164C158.164 63.7145 158.239 64.0176 158.39 64.2773C158.545 64.5371 158.763 64.7399 159.046 64.8857C159.333 65.027 159.67 65.0977 160.058 65.0977C160.445 65.0977 160.778 65.0316 161.056 64.8994C161.338 64.7627 161.555 64.5576 161.705 64.2842C161.86 64.0107 161.938 63.6667 161.938 63.252C161.938 62.8372 161.851 62.4977 161.678 62.2334C161.505 61.9645 161.258 61.7663 160.939 61.6387C160.625 61.5065 160.254 61.4404 159.825 61.4404H158.923Z" fill="black"/>
            <rect x="130.5" y="51" width="44" height="20" rx="10" stroke="#023AFF" stroke-width="2"/>
          </svg>
        </div>
        <p class="fz-normla title-modal">Cod. de seguridad</p>
        <p class="fz-note" id="note-code">Código de 3 dígitos ubicados en el dorso de la tarjeta </p>
    </ng-template>
  </ion-modal>
</ion-content>

<ion-footer class="footer-ionic">
  <ion-toolbar>
    <div class="alert">
      <ion-item lines="none" *ngIf="formulario.invalid===false">
        <img id="icon-security" src="/assets/icons/icon-security.svg">
        <ion-label class="alert ion-text-wrap fz-small" color="medium">
          Tu tarjeta está 100% segura, solo
          guardaremos el número, volveremos a
          pedirte el código para confirmar tu compra.
        </ion-label>
      </ion-item>
    </div>
    <ion-button [disabled]="formulario.invalid"
                (click)="goWayPay()"
                type="submit" color="primary" shape="round" expand="block">
      <ion-label class="fz-normal">Guardar</ion-label>
    </ion-button>
  </ion-toolbar>
</ion-footer>
