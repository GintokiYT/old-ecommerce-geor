<ion-content class="scroll-content">

  <app-header-inbox class="app-header-inbox"></app-header-inbox>

  <!-- Content -->
  <div class="content-messages d-flex flex-column" #scrollContainer>
    <div *ngFor="let message of messages; let i = index" #messageRef (click)="showTime(i)">
      <div *ngIf="message.author === 'business'" class="d-flex justify-content-start">
        <div class="content-message-logo d-flex">
          <div class="logo">
            <img [src]="message.image" alt="Logo">
          </div>
          <div class="container-message">
            <p *ngIf="message.message.type === 'text'" class="message-business">
              {{ message.message.content }}
            </p>
            <img *ngIf="message.message.type === 'image'" [src]="message.message.content" alt="image">
            <span class="time-business invisible">
              {{ message.time }}
            </span>
          </div>
        </div>
      </div>
      <div *ngIf="message.author === 'user'" class="d-flex justify-content-end">
        <div class="content">
          <div class="container-message">
            <p *ngIf="message.message.type === 'text'" class="message-user">
              {{ message.message.content }}
            </p>
            <img *ngIf="message.message.type === 'image'" [src]="message.message.content" alt="image">
            <span class="time-user invisible">
              {{ message.time }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>


<ion-footer class="ion-footer">
  <input
    class="input-message"
    id="input-message"
    type="text"
    placeholder="Escribe un mensaje"
    autocomplete="off"
    [(ngModel)]="contentMessage.message.content"
    #messageInput
  >
  <div class="content-footer__items" #contentInput>
    <div class="content-footer__items-icons d-flex">
      <div class="icon-camera">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M15.0402 4.0515C16.0502 4.4535 16.3592 5.8535 16.7722 6.3035C17.1852 6.7535 17.7762 6.9065 18.1032 6.9065C19.8412 6.9065 21.2502 8.3155 21.2502 10.0525V15.8475C21.2502 18.1775 19.3602 20.0675 17.0302 20.0675H6.97024C4.63924 20.0675 2.75024 18.1775 2.75024 15.8475V10.0525C2.75024 8.3155 4.15924 6.9065 5.89724 6.9065C6.22324 6.9065 6.81424 6.7535 7.22824 6.3035C7.64124 5.8535 7.94924 4.4535 8.95924 4.0515C9.97024 3.6495 14.0302 3.6495 15.0402 4.0515Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M17.4955 9.5H17.5045" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M15.179 13.1282C15.179 11.3722 13.756 9.94922 12 9.94922C10.244 9.94922 8.82104 11.3722 8.82104 13.1282C8.82104 14.8842 10.244 16.3072 12 16.3072C13.756 16.3072 15.179 14.8842 15.179 13.1282Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
      </div>
      <div class="icon-gallery">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3028 2.75H7.65076C4.63876 2.75 2.74976 4.884 2.74976 7.904V16.05C2.74976 19.07 4.63076 21.204 7.65076 21.204H16.2978C19.3228 21.204 21.2028 19.07 21.2028 16.05V7.904C21.2068 4.884 19.3258 2.75 16.3028 2.75Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M10.7032 8.78545C10.7032 9.80545 9.87723 10.6315 8.85723 10.6315C7.83823 10.6315 7.01123 9.80545 7.01123 8.78545C7.01123 7.76545 7.83823 6.93945 8.85723 6.93945C9.87623 6.94045 10.7022 7.76645 10.7032 8.78545Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M21.207 14.951C20.284 14.001 18.509 12.082 16.579 12.082C14.648 12.082 13.535 16.315 11.678 16.315C9.821 16.315 8.134 14.401 6.646 15.628C5.158 16.854 3.75 19.361 3.75 19.361" stroke="#9E9E9E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
      </div>
      <div class="icon-clip">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
          <path d="M20.7579 9.97761C20.6039 9.82114 20.3951 9.73324 20.1773 9.73324C19.9596 9.73324 19.7508 9.82114 19.5968 9.97761L10.6524 19.1077C10.2711 19.4953 9.81844 19.8027 9.32027 20.0125C8.8221 20.2222 8.28815 20.3302 7.74892 20.3303C6.65988 20.3303 5.61542 19.8907 4.84531 19.1081C4.07519 18.3255 3.6425 17.264 3.64242 16.1571C3.64235 15.0503 4.07489 13.9887 4.8449 13.206L13.5076 4.36552C13.9709 3.90221 14.5954 3.6437 15.2453 3.64631C15.8952 3.64892 16.5178 3.91244 16.9774 4.37946C17.437 4.84648 17.6964 5.47917 17.6992 6.13971C17.7019 6.80025 17.4477 7.43513 16.9919 7.90604L8.32921 16.7465C8.17298 16.8986 7.96498 16.9835 7.74862 16.9835C7.53227 16.9835 7.32427 16.8986 7.16804 16.7465C7.01409 16.59 6.92761 16.3777 6.92761 16.1564C6.92761 15.9351 7.01409 15.7228 7.16804 15.5663L14.8807 7.69154C15.0302 7.53413 15.113 7.3233 15.1111 7.10446C15.1093 6.88562 15.0229 6.67628 14.8707 6.52153C14.7184 6.36679 14.5124 6.27901 14.2971 6.27711C14.0818 6.27521 13.8744 6.35933 13.7195 6.51137L6.00688 14.3862C5.77807 14.6187 5.59657 14.8947 5.47274 15.1985C5.34891 15.5023 5.28517 15.828 5.28517 16.1568C5.28517 16.4857 5.34891 16.8113 5.47274 17.1151C5.59657 17.419 5.77807 17.695 6.00688 17.9275C6.47629 18.3828 7.1002 18.6368 7.74904 18.6368C8.39787 18.6368 9.02178 18.3828 9.49119 17.9275L18.1531 9.08622C18.907 8.30024 19.3258 7.24405 19.3189 6.14644C19.3119 5.04883 18.8798 3.99818 18.1161 3.22209C17.3524 2.446 16.3187 2.00696 15.2387 2.00008C14.1588 1.9932 13.1197 2.41904 12.3465 3.18534L3.68373 12.0258C2.60566 13.1215 2 14.6077 2 16.1573C2 17.7068 2.60566 19.193 3.68373 20.2887C4.76181 21.3844 6.22399 22 7.74862 22C9.27325 22 10.7354 21.3844 11.8135 20.2887L20.7579 11.1611C20.8346 11.0836 20.8955 10.9914 20.9371 10.8898C20.9786 10.7882 21 10.6793 21 10.5694C21 10.4594 20.9786 10.3505 20.9371 10.2489C20.8955 10.1474 20.8346 10.0552 20.7579 9.97761Z" fill="none"/>
          </svg>
      </div>
    </div>
    <div class="content-footer__items-icon-send"
    [ngStyle]="{'display': contentMessage.message.content.length > 0 ? 'block' : 'none'}" >
      <div class="icon-send" (click)="sendMessage()">
        <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.4274 2.5783C20.9274 2.0673 20.1874 1.8783 19.4974 2.0783L3.40742 6.7273C2.67942 6.9293 2.16342 7.5063 2.02442 8.2383C1.88242 8.9843 2.37842 9.9323 3.02642 10.3283L8.05742 13.4003C8.57342 13.7163 9.23942 13.6373 9.66642 13.2093L15.4274 7.4483C15.7174 7.1473 16.1974 7.1473 16.4874 7.4483C16.7774 7.7373 16.7774 8.2083 16.4874 8.5083L10.7164 14.2693C10.2884 14.6973 10.2084 15.3613 10.5234 15.8783L13.5974 20.9283C13.9574 21.5273 14.5774 21.8683 15.2574 21.8683C15.3374 21.8683 15.4274 21.8683 15.5074 21.8573C16.2874 21.7583 16.9074 21.2273 17.1374 20.4773L21.9074 4.5083C22.1174 3.8283 21.9274 3.0883 21.4274 2.5783Z" fill="#023AFF"/>
        </svg>
      </div>
    </div>
  </div>
</ion-footer>

<!-- <button
    style="
      position: fixed;
      bottom: 125px;
      left: 20px;
      padding: 10px 20px;
      z-index: 10000;
      border-radius: 10px;
      background: #0673f8;
      color: #ebe2e2;"
      (click)="changeMode()"
    >Change Mode</button> -->

</ion-content>
