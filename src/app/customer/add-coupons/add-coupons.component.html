<ion-content>

  <!-- Header -->
  <app-header 
    backDirection="confirm-order" 
    iconLeft="icon-arrow-left" 
    title="Agregar cupón">
  </app-header>

  <!-- coupon container -->
  <div class="coupon-container container-main">

    <!-- Coupon input -->
    <div class="coupon-input_container">
      <ion-item lines="none">
        <ion-input 
          class="coupon-input" 
          [(ngModel)]="inputPassword"
          (ngModelChange)="inputChange($event)"
          (keyup.enter) = "validarCupon()"
          type="text" 
          placeholder="Ingresa el código">
        </ion-input>
        <ion-button
          class="coupon-button position-absolute"
          [disabled]="!haveCode"  
          tabindex="-1"
          fill="clear"
          size="small"    
          color="primary"
          shape="round"
          (click)="validarCupon()"
        >
          Validar
        </ion-button>
      </ion-item>
    </div>

    <!-- Coupon options -->
    <div class="coupon-option_container d-flex">
      <ion-button fill="clear" class="ion-no-padding">
        Disponibles
      </ion-button>
      <ion-button fill="clear" class="ion-no-padding not-active">
        Vencidos
      </ion-button>
    </div>

    <!-- coupons list -->
    <div class="coupon-list_container d-flex flex-column">
      <div class="d-flex flex-column coupon" *ngFor="let coupon of coupons">
        <ion-label class="d-block fz-normal fw-bold">{{coupon.discount}}</ion-label>
        <ion-label [innerHTML]="coupon.ocassion" class="fz-subtitle fw-bold"></ion-label>
        <ion-label class="fz-note coupon_code">CÓDIGO: {{coupon.code}}</ion-label>
        <div class="d-flex align-items-center coupon_expiration" style="gap: 6px;">
          <img src="/assets/icons/icon-danger.svg">
          <ion-label>Vence: <span>{{coupon.expiration}}</span></ion-label>
        </div>
        <div class="coupon_conditions d-flex justify-content-between align-items-center">
          <ion-label>Condiciones</ion-label>
          <ion-button (click)="useCoupon(coupon.id)" color="primary" expand="full" shape="round">
            Usar cupón
          </ion-button>
        </div>
      </div>
    </div>

  </div>

</ion-content>